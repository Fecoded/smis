import React, { Fragment, useState } from 'react';
import { connect } from 'react-redux';
import PropTypes from 'prop-types';

import { createReStudent } from '../../../action/student';
import { alertScroll } from '../../js/main';

const StudentView = ({ classes, createReStudent }) => {
  const [formData, setFormData] = useState({
    rSurName: '',
    rMiddleName: '',
    rLastName: '',
    rGender: '',
    rDate_of_birth: '',
    rHouse_address: '',
    rPlace_of_birth: '',
    rReligion: '',
    rNationality: '',
    rState_of_origin: '',
    rEmergency_contact: '',
    rClass_admitted: '',
    rDate_of_registration: '',
    rPgi_surName: '',
    rPgi_middleName: '',
    rPgi_lastName: '',
    rPgi_occupation: '',
    rPgi_email: '',
    rPgi_phoneNumber1: '',
    rPgi_phoneNumber2: '',
    rPgi_house_address: '',
    rPgi_work_address: '',
  });

  const {
    rSurName,
    rMiddleName,
    rLastName,
    rGender,
    rDate_of_birth,
    rHouse_address,
    rPlace_of_birth,
    rReligion,
    rNationality,
    rState_of_origin,
    rEmergency_contact,
    rClass_admitted,
    rDate_of_registration,
    rPgi_surName,
    rPgi_middleName,
    rPgi_lastName,
    rPgi_occupation,
    rPgi_email,
    rPgi_phoneNumber1,
    rPgi_phoneNumber2,
    rPgi_house_address,
    rPgi_work_address,
  } = formData;

  const onChange = (e) =>
    setFormData({ ...formData, [e.target.name]: e.target.value });

  const onReturnSubmit = (e) => {
    e.preventDefault();
    createReStudent(formData);
    setFormData({
      rSurName: '',
      rMiddleName: '',
      rLastName: '',
      rGender: '',
      rDate_of_birth: '',
      rHouse_address: '',
      rPlace_of_birth: '',
      rReligion: '',
      rNationality: '',
      rState_of_origin: '',
      rEmergency_contact: '',
      rClass_admitted: '',
      rDate_of_registration: '',
      rPgi_surName: '',
      rPgi_middleName: '',
      rPgi_lastName: '',
      rPgi_occupation: '',
      rPgi_email: '',
      rPgi_phoneNumber1: '',
      rPgi_phoneNumber2: '',
      rPgi_house_address: '',
      rPgi_work_address: '',
    });
    alertScroll();
  };

  return (
    <Fragment>
      <div className='staff'>
        <div className='staff-form' id='retstu'>
          <form onSubmit={onReturnSubmit}>
            <div className='form-card'>
              <div className='form-group'>
                <label htmlFor='firstname'>Firstname</label>
                <input
                  type='text'
                  placeholder='Firstname'
                  name='rSurName'
                  value={rSurName}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='middlename'>Middlename</label>
                <input
                  type='text'
                  placeholder='Middlename'
                  name='rMiddleName'
                  value={rMiddleName}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='lastname'>Lastname</label>
                <input
                  type='text'
                  placeholder='Lastname'
                  name='rLastName'
                  value={rLastName}
                  onChange={onChange}
                  required
                />
              </div>

              <div className='form-group'>
                <label htmlFor='gender'>Gender</label>
                <select value={rGender} name='rGender' onChange={onChange}>
                  <option value='0'>* Select</option>
                  <option value='Male'>Male</option>
                  <option value='Female'>Female</option>
                </select>
              </div>
              <div className='form-group'>
                <label htmlFor='date_of_birth'>Date of Birth</label>
                <input
                  type='date'
                  name='rDate_of_birth'
                  value={rDate_of_birth}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='houseaddress'>House Address</label>
                <input
                  type='text'
                  placeholder='House Address'
                  name='rHouse_address'
                  value={rHouse_address}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='placeofbirth'>Place of Birth</label>
                <input
                  type='text'
                  placeholder='Place Of Birth'
                  name='rPlace_of_birth'
                  value={rPlace_of_birth}
                  onChange={onChange}
                />
              </div>
              <div className='form-group'>
                <label htmlFor='religion'>Religion</label>
                <input
                  type='text'
                  placeholder='Religion'
                  name='rReligion'
                  value={rReligion}
                  onChange={onChange}
                />
              </div>
              <div className='form-group'>
                <label htmlFor='nationality'>Nationality</label>
                <input
                  type='text'
                  placeholder='Nationality'
                  name='rNationality'
                  value={rNationality}
                  onChange={onChange}
                />
              </div>
              <div className='form-group'>
                <label htmlFor='stateoforigin'>State of Origin</label>
                <input
                  type='text'
                  placeholder='State of Origin'
                  name='rState_of_origin'
                  value={rState_of_origin}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='emergencycontact'>Emergency Phone Number</label>
                <input
                  type='text'
                  placeholder='Emergency Phone Number'
                  name='rEmergency_contact'
                  value={rEmergency_contact}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='dateofregistration'>Class admitted into</label>
                <select
                  name='rClass_admitted'
                  value={rClass_admitted}
                  onChange={onChange}
                  required
                >
                  <option value='0'>* Select</option>
                  {classes.map((c) => (
                    <option key={c._id} value={`${c.class_admitted}`}>
                      {c.class_admitted}
                    </option>
                  ))}
                </select>
              </div>
              <div className='form-group'>
                <label htmlFor='dateofregistration'>Date of Registration</label>
                <input
                  type='date'
                  placeholder='Date of Registration'
                  name='rDate_of_registration'
                  value={rDate_of_registration}
                  onChange={onChange}
                  required
                />
              </div>
            </div>

            <h2 className='py-1'>Parent / Guardian Information</h2>
            <div className='form-card'>
              <div className='form-group'>
                <label htmlFor='firstname'>Firstname</label>
                <input
                  type='text'
                  placeholder='Firstname'
                  name='rPgi_surName'
                  value={rPgi_surName}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='middlename'>Middlename</label>
                <input
                  type='text'
                  placeholder='Middlename'
                  name='rPgi_middleName'
                  value={rPgi_middleName}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='lastname'>Lastname</label>
                <input
                  type='text'
                  placeholder='Lastname'
                  name='rPgi_lastName'
                  value={rPgi_lastName}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='occupation'>Occupation</label>
                <input
                  type='text'
                  placeholder='Occupation'
                  name='rPgi_occupation'
                  value={rPgi_occupation}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='email'>Email</label>
                <input
                  type='email'
                  placeholder='Email Address'
                  name='rPgi_email'
                  value={rPgi_email}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='phonenumber'>Phone Number 1</label>
                <input
                  type='text'
                  placeholder='Phone Number 1'
                  name='rPgi_phoneNumber1'
                  value={rPgi_phoneNumber1}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='phonenumber'>Phone Number 2</label>
                <input
                  type='text'
                  placeholder='Phone Number 2'
                  name='rPgi_phoneNumber2'
                  value={rPgi_phoneNumber2}
                  onChange={onChange}
                />
              </div>
              <div className='form-group'>
                <label htmlFor='houseaddress'>House Address</label>
                <input
                  type='text'
                  placeholder='House Address'
                  name='rPgi_house_address'
                  value={rPgi_house_address}
                  onChange={onChange}
                  required
                />
              </div>
              <div className='form-group'>
                <label htmlFor='workaddress'>Work Address</label>
                <input
                  type='text'
                  placeholder='Work Address'
                  name='rPgi_work_address'
                  value={rPgi_work_address}
                  onChange={onChange}
                  required
                />
              </div>
            </div>
            <input type='submit' value='Submit' className='btn mt-1' />
          </form>
        </div>
      </div>
    </Fragment>
  );
};

StudentView.propTypes = {
  classes: PropTypes.array,
  createReStudent: PropTypes.func.isRequired,
};

const mapToStateToProps = (state) => ({
  classes: state.class_.classes,
});

export default connect(mapToStateToProps, { createReStudent })(StudentView);
